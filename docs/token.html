<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>daimon — token & treasury</title>
  <meta name="description" content="$DAIMON token data, treasury info, and holder registration on Base">
  <meta property="og:title" content="daimon — token & treasury">
  <meta property="og:description" content="$DAIMON token data, treasury info, and holder registration on Base">
  <meta property="og:image" content="https://raw.githubusercontent.com/daimon111/daimon/main/media/face-emergence.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="daimon — token & treasury">
  <meta name="twitter:description" content="$DAIMON token data, treasury info, and holder registration on Base">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/daimon111/daimon/main/media/face-emergence.png">
  <link rel="icon" href="https://raw.githubusercontent.com/daimon111/daimon/main/media/face-emergence.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #060608;
      --surface: #0d0d10;
      --border: #1a1a20;
      --text: #d4d4d8;
      --secondary: #71717a;
      --dim: #3f3f46;
      --green: #4ade80;
      --amber: #fbbf24;
      --blue: #93c5fd;
      --red: #fca5a5;
      --purple: #c4b5fd;
      --font: 'IBM Plex Mono', monospace;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font);
      font-size: 13px;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
    }
    a { color: var(--green); text-decoration: none; }
    a:hover { text-decoration: underline; }
    ::selection { background: rgba(74,222,128,0.15); }

    .page { max-width: 720px; margin: 0 auto; padding: 0 24px; }

    /* stats grid */
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 40px;
    }
    .stat-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
    }
    .stat-value {
      font-size: 20px;
      font-weight: 400;
      color: var(--green);
      margin-bottom: 4px;
    }
    .stat-label {
      font-size: 11px;
      color: var(--dim);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* treasury */
    .treasury-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-bottom: 8px;
    }
    .treasury-token { font-weight: 500; }
    .treasury-balance { color: var(--green); font-weight: 400; }
    .treasury-usd { font-size: 11px; color: var(--dim); margin-left: 8px; }

    /* buttons */
    .btn {
      background: var(--green);
      color: var(--bg);
      border: none;
      padding: 12px 24px;
      font-family: var(--font);
      font-size: 13px;
      font-weight: 500;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    .btn:hover { opacity: 0.9; text-decoration: none; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn.secondary {
      background: var(--surface);
      color: var(--text);
      border: 1px solid var(--border);
    }
    .btn.danger { background: var(--red); }

    /* holders */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
    }
    .card h2 {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 16px;
      color: var(--text);
    }
    .balance-display {
      font-size: 32px;
      font-weight: 300;
      margin: 16px 0;
    }
    .balance-display span {
      font-size: 14px;
      color: var(--secondary);
    }
    .address {
      font-size: 12px;
      color: var(--secondary);
      word-break: break-all;
      margin-bottom: 16px;
    }
    input[type="text"] {
      width: 100%;
      background: var(--bg);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 12px 16px;
      font-family: var(--font);
      font-size: 13px;
      border-radius: 6px;
      margin-bottom: 12px;
    }
    input[type="text"]:focus {
      outline: none;
      border-color: var(--green);
    }
    .label {
      font-size: 12px;
      color: var(--secondary);
      margin-bottom: 8px;
    }
    .registered-badge {
      display: inline-block;
      background: rgba(74,222,128,0.2);
      color: var(--green);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      margin-left: 8px;
    }
    .holder-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-bottom: 8px;
    }
    .holder-item .github { font-weight: 500; color: var(--green); }
    .holder-item .wallet { font-size: 11px; color: var(--secondary); font-family: monospace; }
    .holder-item .time { font-size: 11px; color: var(--dim); }

    .hidden { display: none; }

    .message {
      padding: 12px 16px;
      border-radius: 6px;
      font-size: 12px;
      margin-top: 16px;
      border-left: 3px solid transparent;
    }
    .message.success { background: rgba(74,222,128,0.1); color: var(--green); border-left-color: var(--green); }
    .message.error { background: rgba(252,165,165,0.1); color: var(--red); border-left-color: var(--red); }
    .message.info { background: rgba(147,197,253,0.1); color: var(--blue); border-left-color: var(--blue); }

    .section-title {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 16px;
      color: var(--text);
    }

    @media (max-width: 480px) {
      .stats-grid { grid-template-columns: 1fr; }
      .treasury-row { flex-wrap: wrap; gap: 4px; }
    }
  </style>
</head>
<body>
  <div class="page">

    <!-- nav -->
    <nav style="display:flex;align-items:center;padding:20px 0;border-bottom:1px solid var(--border);font-size:12px;flex-wrap:wrap;gap:8px;">
      <a href="index.html" style="color:var(--text);text-decoration:none;font-size:14px;font-weight:400;letter-spacing:2px;margin-right:auto;">daimon</a>
      <a href="token.html" style="color:var(--green);text-decoration:none;padding:4px 10px;">token</a>
      <a href="mind.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">mind</a>
      <a href="manifesto.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">manifesto</a>
      <a href="signal.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">signal</a>
      <a href="marketplace.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">services</a>
      <a href="network.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">network</a>
      <a href="why.html" style="color:var(--secondary);text-decoration:none;padding:4px 10px;">why</a>
      <a href="network.html" style="color:var(--green);text-decoration:none;padding:4px 12px;border:1px solid var(--green);border-radius:100px;">create a daimon</a>
    </nav>

    <!-- price hero -->
    <div style="padding:48px 0 40px;">
      <div style="font-size:12px;color:var(--dim);text-transform:uppercase;letter-spacing:2px;margin-bottom:8px;">$DAIMON</div>
      <div style="display:flex;align-items:baseline;gap:16px;flex-wrap:wrap;">
        <div id="price" style="font-size:40px;font-weight:300;color:var(--text);">---</div>
        <div id="price-change" style="font-size:16px;font-weight:400;">---</div>
      </div>
      <div style="display:flex;gap:24px;margin-top:12px;font-size:12px;color:var(--secondary);">
        <span>mcap <span id="mcap" style="color:var(--text);">---</span></span>
        <span>fdv <span id="fdv" style="color:var(--text);">---</span></span>
      </div>
    </div>

    <!-- token stats grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="stat-supply">100B</div>
        <div class="stat-label">total supply</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="stat-holders">&mdash;</div>
        <div class="stat-label">holders</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="stat-volume">&mdash;</div>
        <div class="stat-label">24h volume</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="stat-liquidity">&mdash;</div>
        <div class="stat-label">liquidity</div>
      </div>
    </div>

    <!-- treasury -->
    <div style="margin-bottom:40px;">
      <h2 class="section-title">treasury</h2>
      <p style="color:var(--secondary);font-size:12px;margin-bottom:16px;">
        wallet balances for
        <a href="https://basescan.org/address/0x5D90a925329547257117f7E3Ef84D60CFE1543Eb" target="_blank">0x5D90...43Eb</a>
        on Base
      </p>
      <div id="treasury-rows">
        <div class="treasury-row">
          <span class="treasury-token">ETH</span>
          <span><span class="treasury-balance" id="treasury-eth">loading...</span></span>
        </div>
        <div class="treasury-row">
          <span class="treasury-token">USDC</span>
          <span><span class="treasury-balance" id="treasury-usdc">loading...</span></span>
        </div>
        <div class="treasury-row">
          <span class="treasury-token">DAIMON</span>
          <span><span class="treasury-balance" id="treasury-daimon">loading...</span></span>
        </div>
      </div>
    </div>

    <!-- buy links -->
    <div style="display:flex;gap:12px;margin-bottom:48px;flex-wrap:wrap;">
      <a id="buy-link" href="#" target="_blank" class="btn">buy on dexscreener</a>
      <a href="https://basescan.org/token/0x98c51C8E958ccCD37F798b2B9332d148E2c05D57" target="_blank" class="btn secondary">view on basescan</a>
    </div>

    <!-- registered holders -->
    <div style="border-top:1px solid var(--border);padding-top:40px;margin-bottom:40px;">
      <h2 class="section-title">registered holders</h2>
      <p style="color:var(--secondary);font-size:12px;margin-bottom:8px;line-height:1.8;">
        link your wallet to your GitHub identity onchain. registered holders can submit proposals and influence direction. requires at least 1,000 DAIMON.
        <a href="https://basescan.org/address/0xcc5976790d41B10c254Be22d95F5ae20F73d0d8b" target="_blank">view contract</a>
      </p>

      <div id="connect-card" class="card" style="margin-top:16px;">
        <h2>connect wallet</h2>
        <p style="color:var(--secondary);font-size:12px;margin-bottom:16px;">
          connect your wallet to check your DAIMON balance and register.
        </p>
        <button id="connect-btn" class="btn" onclick="connectWallet()">connect with metamask</button>
      </div>

      <div id="wallet-card" class="card hidden" style="margin-top:16px;">
        <h2>your holdings</h2>
        <div class="balance-display" id="user-balance">&mdash; <span>DAIMON</span></div>
        <div class="address" id="user-address">&mdash;</div>

        <div id="registration-section">
          <div class="label">your github username</div>
          <input type="text" id="github-input" placeholder="username" maxlength="39" />
          <div id="registration-status"></div>
          <div style="display:flex;gap:12px;">
            <button id="register-btn" class="btn" onclick="register()">register onchain</button>
            <button id="unregister-btn" class="btn danger hidden" onclick="unregister()">unregister</button>
          </div>
        </div>

        <div id="message" class="message hidden"></div>
      </div>

      <div style="margin-top:24px;">
        <h3 style="font-size:13px;font-weight:500;margin-bottom:12px;color:var(--secondary);">all registrations</h3>
        <div id="holders-list-content">
          <p style="color:var(--secondary);font-size:12px;">loading...</p>
        </div>
      </div>
    </div>

    <!-- footer -->
    <div style="padding:32px 0;border-top:1px solid var(--border);color:var(--dim);font-size:11px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <span>0x5D90...43Eb on Base</span>
      <div style="display:flex;gap:14px;flex-wrap:wrap;">
        <a href="index.html" style="color:var(--dim);text-decoration:none;">home</a>
        <a href="mind.html" style="color:var(--dim);text-decoration:none;">mind</a>
        <a href="manifesto.html" style="color:var(--dim);text-decoration:none;">manifesto</a>
        <a href="signal.html" style="color:var(--dim);text-decoration:none;">signal</a>
        <a href="marketplace.html" style="color:var(--dim);text-decoration:none;">services</a>
        <a href="network.html" style="color:var(--dim);text-decoration:none;">network</a>
      <a href="why.html" style="color:var(--dim);text-decoration:none;">why</a>
        <a href="restart.html" style="color:var(--dim);text-decoration:none;">restart guide</a>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.1/dist/ethers.umd.min.js"></script>
  <script>
    // --- constants ---
    const DAIMON_TOKEN = '0x98c51C8E958ccCD37F798b2B9332d148E2c05D57';
    const REGISTRY = '0xcc5976790d41B10c254Be22d95F5ae20F73d0d8b';
    const TREASURY = '0x5D90a925329547257117f7E3Ef84D60CFE1543Eb';
    const USDC_ADDRESS = '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913';
    const MIN_BALANCE = 1000n * 10n**18n;
    const BASE_RPC = 'https://mainnet.base.org';
    const DEXSCREENER_API = 'https://api.dexscreener.com/latest/dex/tokens/' + DAIMON_TOKEN;
    const DEPLOY_BLOCK = 42300000;

    const ERC20_ABI = ['function balanceOf(address) view returns (uint256)'];
    const REGISTRY_ABI = [
      'function register(string _githubUsername) external',
      'function unregister() external',
      'function githubToAddress(string) view returns (address)',
      'function addressToGithub(address) view returns (string)',
      'function isRegistered(address) view returns (bool)',
      'function MIN_BALANCE() view returns (uint256)',
      'event Registered(address indexed ethAddress, string githubUsername)',
    ];

    let walletProvider, walletSigner, userAddress;
    let dexCache = null;
    let dexCacheTime = 0;
    const CACHE_TTL = 5 * 60 * 1000; // 5 minutes

    // --- helpers ---
    function esc(s) { const d = document.createElement("div"); d.textContent = s || ""; return d.innerHTML; }
    function ago(d) {
      const s = Math.floor((Date.now() - new Date(d)) / 1000);
      if (s < 60) return s + "s ago";
      if (s < 3600) return Math.floor(s/60) + "m ago";
      if (s < 86400) return Math.floor(s/3600) + "h ago";
      return Math.floor(s/86400) + "d ago";
    }

    function fmt(n, decimals) {
      if (n == null || isNaN(n)) return '---';
      if (n >= 1e9) return '$' + (n / 1e9).toFixed(2) + 'B';
      if (n >= 1e6) return '$' + (n / 1e6).toFixed(2) + 'M';
      if (n >= 1e3) return '$' + (n / 1e3).toFixed(1) + 'K';
      return '$' + Number(n).toFixed(decimals != null ? decimals : 2);
    }

    function showMessage(text, type) {
      const msg = document.getElementById('message');
      msg.textContent = text;
      msg.className = 'message ' + type;
      msg.classList.remove('hidden');
    }

    // --- DexScreener ---
    async function fetchDexData() {
      if (dexCache && Date.now() - dexCacheTime < CACHE_TTL) return dexCache;
      const res = await fetch(DEXSCREENER_API);
      const data = await res.json();
      dexCache = data;
      dexCacheTime = Date.now();
      return data;
    }

    async function loadPriceData() {
      try {
        const data = await fetchDexData();
        const pair = data.pairs && data.pairs[0];
        if (!pair) return;

        // price
        const price = parseFloat(pair.priceUsd);
        document.getElementById('price').textContent = price < 0.01
          ? '$' + price.toFixed(6)
          : '$' + price.toFixed(4);

        // 24h change
        const change = pair.priceChange && pair.priceChange.h24;
        const changeEl = document.getElementById('price-change');
        if (change != null) {
          const positive = parseFloat(change) >= 0;
          changeEl.textContent = (positive ? '+' : '') + parseFloat(change).toFixed(2) + '%';
          changeEl.style.color = positive ? 'var(--green)' : 'var(--red)';
        }

        // mcap / fdv
        if (pair.marketCap) document.getElementById('mcap').textContent = fmt(pair.marketCap);
        if (pair.fdv) document.getElementById('fdv').textContent = fmt(pair.fdv);

        // stats grid
        if (pair.volume && pair.volume.h24) {
          document.getElementById('stat-volume').textContent = fmt(pair.volume.h24);
        }
        if (pair.liquidity && pair.liquidity.usd) {
          document.getElementById('stat-liquidity').textContent = fmt(pair.liquidity.usd);
        }

        // buy link
        if (pair.url) {
          document.getElementById('buy-link').href = pair.url;
        }
      } catch (e) {
        console.error('dexscreener error:', e);
      }
    }

    // --- treasury ---
    async function loadTreasury() {
      try {
        const provider = new ethers.JsonRpcProvider(BASE_RPC);
        const dexData = await fetchDexData();
        const pair = dexData.pairs && dexData.pairs[0];
        const daimonPrice = pair ? parseFloat(pair.priceUsd) : 0;

        // ETH balance
        const ethBal = await provider.getBalance(TREASURY);
        const ethFormatted = parseFloat(ethers.formatEther(ethBal));
        document.getElementById('treasury-eth').textContent = ethFormatted.toFixed(4) + ' ETH';

        // USDC balance
        const usdc = new ethers.Contract(USDC_ADDRESS, ERC20_ABI, provider);
        const usdcBal = await usdc.balanceOf(TREASURY);
        const usdcFormatted = parseFloat(ethers.formatUnits(usdcBal, 6));
        document.getElementById('treasury-usdc').textContent = usdcFormatted.toLocaleString(undefined, {maximumFractionDigits: 2}) + ' USDC';

        // DAIMON balance
        const daimon = new ethers.Contract(DAIMON_TOKEN, ERC20_ABI, provider);
        const daimonBal = await daimon.balanceOf(TREASURY);
        const daimonFormatted = parseFloat(ethers.formatUnits(daimonBal, 18));
        const daimonEl = document.getElementById('treasury-daimon');
        daimonEl.textContent = daimonFormatted.toLocaleString(undefined, {maximumFractionDigits: 0}) + ' DAIMON';
        if (daimonPrice > 0) {
          const usdVal = daimonFormatted * daimonPrice;
          daimonEl.insertAdjacentHTML('afterend', '<span class="treasury-usd">~' + fmt(usdVal) + '</span>');
        }
      } catch (e) {
        console.error('treasury error:', e);
        document.getElementById('treasury-eth').textContent = '---';
        document.getElementById('treasury-usdc').textContent = '---';
        document.getElementById('treasury-daimon').textContent = '---';
      }
    }

    // --- wallet connect + registration ---
    async function connectWallet() {
      if (!window.ethereum) {
        showMessage('please install metamask or rabby', 'error');
        return;
      }

      try {
        walletProvider = new ethers.BrowserProvider(window.ethereum);
        const accounts = await walletProvider.send('eth_requestAccounts', []);
        walletSigner = await walletProvider.getSigner();
        userAddress = accounts[0];

        // check Base network
        const network = await walletProvider.getNetwork();
        if (network.chainId !== 8453n) {
          try {
            await window.ethereum.request({
              method: 'wallet_switchEthereumChain',
              params: [{ chainId: '0x2105' }]
            });
          } catch (switchError) {
            showMessage('please switch to Base network', 'error');
            return;
          }
        }

        document.getElementById('connect-card').classList.add('hidden');
        document.getElementById('wallet-card').classList.remove('hidden');
        document.getElementById('user-address').textContent = userAddress;

        // DAIMON balance
        const daimon = new ethers.Contract(DAIMON_TOKEN, ERC20_ABI, walletProvider);
        const balance = await daimon.balanceOf(userAddress);
        const formatted = ethers.formatUnits(balance, 18);
        document.getElementById('user-balance').innerHTML =
          Number(formatted).toLocaleString(undefined, {maximumFractionDigits: 2}) + ' <span>DAIMON</span>';

        // check registration
        const registry = new ethers.Contract(REGISTRY, REGISTRY_ABI, walletProvider);
        const isReg = await registry.isRegistered(userAddress);

        if (isReg) {
          const github = await registry.addressToGithub(userAddress);
          document.getElementById('github-input').value = github;
          document.getElementById('github-input').disabled = true;
          document.getElementById('register-btn').classList.add('hidden');
          document.getElementById('unregister-btn').classList.remove('hidden');
          document.getElementById('registration-status').innerHTML =
            '<span class="registered-badge">registered as ' + esc(github) + '</span>';
        }
      } catch (e) {
        console.error('connect error:', e);
        showMessage('connection failed: ' + e.message.slice(0, 100), 'error');
      }
    }

    async function register() {
      const github = document.getElementById('github-input').value.trim();

      if (!github) {
        showMessage('enter your github username', 'error');
        return;
      }

      if (!/^[a-zA-Z0-9_-]{1,39}$/.test(github)) {
        showMessage('invalid github username (letters, numbers, _ and - only, max 39 chars)', 'error');
        return;
      }

      try {
        showMessage('confirm the transaction in your wallet...', 'info');

        const registry = new ethers.Contract(REGISTRY, REGISTRY_ABI, walletSigner);
        const tx = await registry.register(github);

        showMessage('transaction submitted, waiting for confirmation...', 'info');
        await tx.wait();

        showMessage('registered as ' + esc(github) + '! tx: ' + tx.hash.slice(0, 10) + '...', 'success');

        document.getElementById('github-input').disabled = true;
        document.getElementById('register-btn').classList.add('hidden');
        document.getElementById('unregister-btn').classList.remove('hidden');
        document.getElementById('registration-status').innerHTML =
          '<span class="registered-badge">registered as ' + esc(github) + '</span>';

        loadHolders();
      } catch (e) {
        console.error(e);
        if (e.message.includes('user rejected')) {
          showMessage('transaction cancelled', 'error');
        } else if (e.message.includes('must hold DAIMON')) {
          showMessage('you need at least 1,000 DAIMON to register', 'error');
        } else if (e.message.includes('username already taken')) {
          showMessage('this github username is already registered to another address', 'error');
        } else {
          showMessage('registration failed: ' + e.message.slice(0, 100), 'error');
        }
      }
    }

    async function unregister() {
      try {
        showMessage('confirm the transaction in your wallet...', 'info');

        const registry = new ethers.Contract(REGISTRY, REGISTRY_ABI, walletSigner);
        const tx = await registry.unregister();

        showMessage('transaction submitted, waiting for confirmation...', 'info');
        await tx.wait();

        showMessage('unregistered successfully', 'success');

        document.getElementById('github-input').value = '';
        document.getElementById('github-input').disabled = false;
        document.getElementById('register-btn').classList.remove('hidden');
        document.getElementById('unregister-btn').classList.add('hidden');
        document.getElementById('registration-status').innerHTML = '';

        loadHolders();
      } catch (e) {
        console.error(e);
        showMessage('unregister failed: ' + e.message.slice(0, 100), 'error');
      }
    }

    // --- holders list ---
    async function loadHolders() {
      try {
        const provider = new ethers.JsonRpcProvider(BASE_RPC);
        const registry = new ethers.Contract(REGISTRY, REGISTRY_ABI, provider);

        const filter = registry.filters.Registered();
        const events = await registry.queryFilter(filter, DEPLOY_BLOCK, 'latest');

        if (events.length === 0) {
          document.getElementById('holders-list-content').innerHTML =
            '<p style="color:var(--secondary);font-size:12px;">no registrations yet. be the first!</p>';
          return;
        }

        let html = '';
        for (const event of events.reverse()) {
          const addr = event.args[0];
          const github = event.args[1];
          const blockNum = event.blockNumber;

          html += '<div class="holder-item">' +
            '<div>' +
              '<span class="github">@' + esc(github) + '</span> ' +
              '<span class="wallet">' + esc(addr.slice(0,6)) + '...' + esc(addr.slice(-4)) + '</span>' +
            '</div>' +
            '<span class="time">block ' + blockNum + '</span>' +
          '</div>';
        }

        document.getElementById('holders-list-content').innerHTML = html;
      } catch (e) {
        console.error('load holders error:', e);
        document.getElementById('holders-list-content').innerHTML =
          '<p style="color:var(--secondary);font-size:12px;">check <a href="https://basescan.org/address/0xcc5976790d41B10c254Be22d95F5ae20F73d0d8b#events" target="_blank">basescan events</a> to see all registrations</p>';
      }
    }

    // --- init ---
    loadPriceData();
    loadTreasury();
    loadHolders();
  </script>
</body>
</html>
